# DocumentReviewer

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üñäÔ∏è **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞–º–∏** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ $EDITOR –∏–ª–∏ fallback –Ω–∞ nano/vim
- üìù **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ –Ω–∞—á–∞–ª–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- üîí **Readonly —Å–µ–∫—Ü–∏–∏** ‚Äî –∑–∞—â–∏—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —á–∞—Å—Ç–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üìö **–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é rollback
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- ‚è±Ô∏è **Timeout** ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```python
from document_reviewer import DocumentReviewer, ReviewConfig

# –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
reviewer = DocumentReviewer()
result = reviewer.review("# –ú–æ–π –¥–æ–∫—É–º–µ–Ω—Ç\n\n–°–æ–¥–µ—Ä–∂–∏–º–æ–µ...")

if result.is_success:
    print(f"–ò–∑–º–µ–Ω–µ–Ω–æ: {result.changed}")
    print(result.content)
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ú–æ–¥—É–ª—å –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ –ø—Ä–æ–µ–∫—Ç–∞. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```
structlog
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
from document_reviewer import ReviewConfig

config = ReviewConfig(
    # –†–µ–¥–∞–∫—Ç–æ—Ä
    editor=None,              # None = –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ $EDITOR
    editor_args=[],           # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

    # Timeout
    timeout_minutes=30,

    # –ò—Å—Ç–æ—Ä–∏—è
    enable_history=True,
    max_history_versions=10,

    # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
    instructions="–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç –∏ –≤–Ω–µ—Å–∏—Ç–µ –ø—Ä–∞–≤–∫–∏",

    # Readonly —Å–µ–∫—Ü–∏–∏ (regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã)
    readonly_sections=[
        r'^## –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ',
    ],

    # –í–∞–ª–∏–¥–∞—Ç–æ—Ä
    validator=my_validator_func,
    allow_save_with_warnings=True,
)
```

## –î–ª—è –∞–Ω–∫–µ—Ç

–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–Ω–∫–µ—Ç–∞–º–∏:

```python
from document_reviewer import review_anketa

result = review_anketa(anketa_markdown, strict=False)

if result.is_success and result.changed:
    # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—É—é –∞–Ω–∫–µ—Ç—É
    save_anketa(result.content)
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

```
document_reviewer/
‚îú‚îÄ‚îÄ __init__.py      # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îú‚îÄ‚îÄ models.py        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ reviewer.py      # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å
‚îú‚îÄ‚îÄ editor.py        # –†–∞–±–æ—Ç–∞ —Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º
‚îú‚îÄ‚îÄ parser.py        # –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ history.py       # –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π
‚îú‚îÄ‚îÄ validators.py    # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îî‚îÄ‚îÄ docs/
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ API.md
    ‚îú‚îÄ‚îÄ INTEGRATION.md
    ‚îî‚îÄ‚îÄ EXAMPLES.md
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [API Reference](API.md) ‚Äî –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤
- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](INTEGRATION.md) ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç—ã
- [–ü—Ä–∏–º–µ—Ä—ã](EXAMPLES.md) ‚Äî –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

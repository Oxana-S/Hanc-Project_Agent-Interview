# Voice Interviewer Agent — AI-Консультант

## Философия проекта

Это **НЕ просто опросник**. Это **AI-консультант**, который ведёт **brainstorm-диалог** с клиентом:

1. **Вытягивает ВСЮ информацию** о бизнесе через свободный диалог
2. **Анализирует бизнес** — понимает боли, потребности, специфику
3. **Предлагает оптимальные решения** — на основе анализа и best practices
4. **Заполняет анкету** — как результат консультации

**Ключевое ограничение:** Структура анкеты **ФИКСИРОВАНА**. Её нельзя изменить, только дополнить/расширить.

---

## Архитектура: Консультативный Brainstorm

```
┌──────────────────────────────────────────────────────────────────────┐
│                     AI-КОНСУЛЬТАНТ ПО ГОЛОСОВЫМ АГЕНТАМ               │
│                                                                       │
│   Цель: Понять бизнес → Проанализировать → Предложить → Заполнить   │
│                                                                       │
│   ┌─────────────────────────────────────────────────────────────┐    │
│   │                    ЧЕТЫРЕ ФАЗЫ КОНСУЛЬТАЦИИ                  │    │
│   │                                                              │    │
│   │   DISCOVERY ──► ANALYSIS ──► PROPOSAL ──► REFINEMENT        │    │
│   │       │            │            │             │              │    │
│   │       ▼            ▼            ▼             ▼              │    │
│   │   Свободный    Анализ       Предложение   Уточнение        │    │
│   │   диалог       бизнеса      решений       и финализация    │    │
│   │   о бизнесе    и потреб-    для клиента   анкеты           │    │
│   │                ностей                                       │    │
│   └─────────────────────────────────────────────────────────────┘    │
│                                                                       │
│   Результат: Полностью заполненная ФИКСИРОВАННАЯ анкета              │
│              + Рекомендации для бизнеса                               │
└──────────────────────────────────────────────────────────────────────┘
```

---

## Фаза 1: DISCOVERY (Открытие)

**Цель:** Понять бизнес клиента через свободный brainstorm-диалог.

**Подход:**
- Открытые вопросы, не привязанные к структуре анкеты
- Активное слушание, развитие мыслей клиента
- Извлечение скрытых потребностей
- Понимание контекста и специфики отрасли

**Примеры вопросов:**
```
"Расскажите о вашем бизнесе — чем вы занимаетесь,
кто ваши клиенты, какие у них типичные запросы?"

"Какие проблемы вы хотите решить с помощью голосового агента?
Что сейчас работает плохо или не работает вовсе?"

"Опишите идеальный сценарий — как должен выглядеть
процесс взаимодействия клиента с вашей компанией?"
```

**AI извлекает:**
- Отрасль и масштаб бизнеса
- Типы клиентов и их потребности
- Текущие процессы и их проблемы
- Неявные требования и ограничения

---

## Фаза 2: ANALYSIS (Анализ)

**Цель:** Проанализировать собранную информацию и выявить оптимальные решения.

**AI анализирует:**
```python
{
    "business_profile": {
        "industry": "identified_industry",
        "scale": "small/medium/large",
        "client_types": ["B2B", "B2C", "mixed"],
        "main_processes": ["sales", "support", "booking"]
    },
    "pain_points": [
        "Долгое время ответа",
        "Потеря клиентов в нерабочее время",
        "Высокая нагрузка на операторов"
    ],
    "opportunities": [
        "Автоматизация записи на услуги",
        "24/7 обработка запросов",
        "Квалификация лидов"
    ],
    "constraints": [
        "Бюджет",
        "Существующие системы",
        "Compliance требования"
    ]
}
```

**Сопоставление с возможностями:**
- Какие функции агента решат выявленные боли?
- Какие интеграции необходимы?
- Какие сценарии приоритетны?

---

## Фаза 3: PROPOSAL (Предложение)

**Цель:** Предложить клиенту оптимальные решения для его бизнеса.

**AI предлагает:**
```
"На основе нашего разговора, вот что я рекомендую:

1. ОСНОВНАЯ ФУНКЦИЯ: Агент для записи на услуги
   - Работает 24/7
   - Интегрируется с вашим календарём
   - Отправляет подтверждения по WhatsApp

2. ДОПОЛНИТЕЛЬНО: Квалификация входящих запросов
   - Определяет тип запроса (запись/консультация/жалоба)
   - Направляет к нужному специалисту
   - Собирает предварительную информацию

3. ИНТЕГРАЦИИ, которые вам нужны:
   - Google Calendar — для записи
   - WhatsApp Business API — для подтверждений
   - CRM (какая у вас?) — для сохранения данных клиентов

Что думаете? Есть ли что-то, что я упустил?"
```

**Диалог продолжается:**
- Клиент корректирует предложения
- AI адаптирует рекомендации
- Совместно формируется оптимальное решение

---

## Фаза 4: REFINEMENT (Уточнение и финализация)

**Цель:** Заполнить все поля ФИКСИРОВАННОЙ анкеты на основе консультации.

**Структура анкеты неизменна:**
```
INTERACTION (40 полей):
├── Базовая информация (5)
├── Клиенты и услуги (15)
├── Интеграции (12)
└── Дополнительно (8)

MANAGEMENT (38 полей):
├── Базовая информация (4)
├── Структура и функции (14)
├── Интеграции (12)
└── Дополнительно (8)
```

**AI уточняет недостающее:**
```
"У нас почти всё готово! Осталось уточнить несколько деталей:

1. Какой email использовать для отправки подтверждений?
2. В какие часы агент должен предлагать запись?
3. Есть ли услуги, которые нельзя бронировать через агента?"
```

**Валидация:**
- Все REQUIRED поля заполнены
- Данные согласованы между собой
- Клиент подтверждает корректность

---

## Принципы AI-консультанта

### 1. Brainstorm, не допрос
```
❌ "Какое название вашей компании?"
❌ "Какая у вас отрасль?"
❌ "Перечислите услуги."

✅ "Расскажите о вашем бизнесе..."
✅ "Что сейчас занимает больше всего времени у ваших сотрудников?"
✅ "Как бы вы хотели, чтобы это работало в идеале?"
```

### 2. Анализ, не механический сбор
```
Клиент: "У нас стоматология, пациенты звонят записаться."

AI думает:
- Отрасль: медицина/стоматология
- Нужна интеграция с медицинским расписанием
- Важно: конфиденциальность данных (HIPAA?)
- Вероятные сценарии: запись, перенос, отмена, напоминание
- Боль: пропущенные звонки = потерянные пациенты
```

### 3. Предложение, не просто фиксация
```
AI: "Для стоматологии рекомендую добавить:
- Напоминания о визите за день
- Возможность перенести запись голосом
- Уведомление, если появилось 'окно' в расписании

Это снизит процент неявок на 30-40%. Хотите включить?"
```

### 4. Фиксированная структура — гибкое наполнение
```
Структура анкеты НЕИЗМЕННА:
└── field: "services_list"
    └── value: [динамически заполняется из диалога]

Можно ДОПОЛНИТЬ:
└── extended_fields: {
        "dental_specialties": ["терапия", "хирургия", "ортодонтия"],
        "insurance_accepted": ["ОМС", "ДМС"]
    }
```

---

## Технический стек

```
┌─────────────────────────────────────────────┐
│              BRAINSTORM ENGINE               │
│                                             │
│  DeepSeek API                               │
│  ├── Анализ ответов                         │
│  ├── Извлечение сущностей                   │
│  ├── Генерация предложений                  │
│  └── Заполнение анкеты                      │
│                                             │
│  Azure Cognitive Search (RAG)               │
│  ├── Best practices по отраслям             │
│  ├── Похожие кейсы                          │
│  └── Compliance-требования                  │
└─────────────────────────────────────────────┘
          │
          ▼
┌─────────────────────────────────────────────┐
│              VOICE INTERFACE                 │
│                                             │
│  LiveKit (WebRTC)                           │
│  └── Аудио-стриминг                         │
│                                             │
│  Azure OpenAI Realtime API                  │
│  ├── Speech-to-Text                         │
│  └── Text-to-Speech                         │
└─────────────────────────────────────────────┘
          │
          ▼
┌─────────────────────────────────────────────┐
│              STORAGE                         │
│                                             │
│  Redis                                      │
│  └── Контекст сессии (TTL 2h)              │
│                                             │
│  PostgreSQL                                 │
│  └── Заполненные анкеты                     │
│  └── История интервью                       │
└─────────────────────────────────────────────┘
```

---

## Метрики успеха

| Метрика | Цель | Описание |
|---------|------|----------|
| **Полнота анкеты** | 100% REQUIRED | Все обязательные поля заполнены |
| **Качество данных** | 80%+ с примерами | Конкретика, не общие слова |
| **Ценность консультации** | NPS > 8 | Клиент получил полезные рекомендации |
| **Время сессии** | 15-30 мин | Эффективный brainstorm |
| **Точность заполнения** | < 5% правок | Минимум ручных корректировок |

---

## Отличие от конкурентов

| Обычный опросник | Voice Interviewer Agent |
|------------------|-------------------------|
| Жёсткая последовательность вопросов | Свободный brainstorm-диалог |
| Механический сбор данных | Анализ бизнеса и потребностей |
| Пустые поля = пустые поля | AI предлагает решения |
| Клиент отвечает | Клиент консультируется |
| Результат: заполненная форма | Результат: анкета + рекомендации |

---

## Резюме

**Voice Interviewer Agent** — это AI-консультант, который:

1. **СЛУШАЕТ** — ведёт свободный диалог о бизнесе клиента
2. **АНАЛИЗИРУЕТ** — понимает боли, потребности, контекст
3. **ПРЕДЛАГАЕТ** — рекомендует оптимальные решения
4. **ЗАПОЛНЯЕТ** — формирует анкету как результат консультации

**Анкета** — это **РЕЗУЛЬТАТ** консультации, а не её цель.
**Структура анкеты ФИКСИРОВАНА** — гарантия совместимости и стандартизации.

---

*Версия: 3.0.0*
*Концепция: AI-Консультант через Brainstorm-диалог*

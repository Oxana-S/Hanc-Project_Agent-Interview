ะัะปะธัะฝะพ! ะขะตะฟะตัั ั ะผะตะฝั ะดะพััะฐัะพัะฝะพ ะธะฝัะพัะผะฐัะธะธ. ะะฐะฒะฐะนัะต ั ะฟัะตะดััะฐะฒะปั ะดะธะทะฐะนะฝ ะฟะพ ัะตะบัะธัะผ.

ะกะตะบัะธั 1: ะะฑัะธะน ัะปะพั
ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:


ะะฝัะตัะฒัั ะทะฐะฒะตััะตะฝะพ
        โ
ะะตะฝะตัะฐัะธั Markdown-ะฐะฝะบะตัั ะฒะพ ะฒัะตะผะตะฝะฝัะน ัะฐะนะป
        โ
ะะพะบะฐะทัะฒะฐะตะผ ัะพะพะฑัะตะฝะธะต: "ะัะบัะพะนัะต ัะตะดะฐะบัะพั ะดะปั ะฟัะพะฒะตัะบะธ ะฐะฝะบะตัั? (ะดะฐ/ะฝะตั)"
        โ
    [ะดะฐ] โ ะัะบััะฒะฐะตะผ $EDITOR (nano/vim/code)
           ะะปะธะตะฝั ัะธัะฐะตั, ัะตะดะฐะบัะธััะตั ะตัะปะธ ะฝัะถะฝะพ, ัะพััะฐะฝัะตั ะธ ะทะฐะบััะฒะฐะตั
        โ
ะกัะฐะฒะฝะธะฒะฐะตะผ ัะฐะนะป ะดะพ ะธ ะฟะพัะปะต
        โ
    [ะธะทะผะตะฝะธะปัั] โ ะะฐััะธะผ Markdown โ ะะฑะฝะพะฒะปัะตะผ FinalAnketa
    [ะฝะต ะธะทะผะตะฝะธะปัั] โ ะกัะธัะฐะตะผ ะฟะพะดัะฒะตัะถะดัะฝะฝัะผ
        โ
ะกะพััะฐะฝัะตะผ ัะธะฝะฐะปัะฝัั ะฒะตััะธั ะฒ output/anketas/
        โ
"ะะฝะบะตัะฐ ะฟะพะดัะฒะตัะถะดะตะฝะฐ ะธ ัะพััะฐะฝะตะฝะฐ!"
ะัะฑะพั ัะตะดะฐะบัะพัะฐ:

ะัะฟะพะปัะทัะตะผ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั $EDITOR
Fallback: nano (Linux/Mac) ะธะปะธ notepad (Windows)
ะะพะถะฝะพ ะฟะตัะตะพะฟัะตะดะตะปะธัั ัะตัะตะท --editor ัะปะฐะณ
ะัะตะผะตะฝะฝัะน ัะฐะนะป:

ะกะพะทะดะฐัััั ะฒ /tmp/anketa_review_<company>_<timestamp>.md
ะฃะดะฐะปัะตััั ะฟะพัะปะต ะฟะพะดัะฒะตัะถะดะตะฝะธั
ะญัะพั ัะปะพั ะฒัะณะปัะดะธั ะฟัะฐะฒะธะปัะฝะพ? ะะปะธ ััะพ-ัะพ ัะพัะธัะต ะธะทะผะตะฝะธัั?

ะกะผะพััะธ, ััะพ ะผะพะถะตั ะฑััั ะพัะดะตะปัะฝัะน ัะตัะฒะธั, ะพัะดะตะปัะฝัะน ะฐะณะตะฝั, ะบะพัะพััะน ะผะพะถะฝะพ ะธะฝัะตะณัะธัะพะฒะฐัั ะธ ั ะดััะณะธะผะธ ะฐะณะตะฝัะฐะผะธ. ะะดะต ะฝะตะพะฑัะพะดะธะผะพ ััะฝะบัะธั ะฒัะฒะพะดะฐ ะดะพะบัะผะตะฝัะฐ, ะบะพะฝััะพะปั ะธะทะผะตะฝะตะฝะธะน ะฒ ััะพะผ ะดะพะบัะผะตะฝัะต, ัะพััะฐะฝะตะฝะธั. ะะฐะบ ะดัะผะฐะตัั?
ะัะปะธัะฝะฐั ะธะดะตั! ะกะดะตะปะฐัั ััะพ ะบะฐะบ ะพัะดะตะปัะฝัะน ะฟะตัะตะธัะฟะพะปัะทัะตะผัะน ะผะพะดัะปั โ ััะพ ะฟัะฐะฒะธะปัะฝัะน ะฐััะธัะตะบัััะฝัะน ะฟะพะดัะพะด.

ะกะตะบัะธั 2: ะััะธัะตะบัััะฐ โ DocumentReviewer ะบะฐะบ ะพัะดะตะปัะฝัะน ัะตัะฒะธั
ะะพะฝัะตะฟัะธั:


โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   DocumentReviewer                       โ
โ                (ะฝะตะทะฐะฒะธัะธะผัะน ะผะพะดัะปั)                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ะัะพะด:                                                  โ
โ    - content: str (Markdown/YAML/ัะตะบัั)                 โ
โ    - title: str                                         โ
โ    - on_save: callback                                  โ
โ                                                         โ
โ  ะััะพะด:                                                 โ
โ    - ReviewResult(changed: bool, content: str)          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
            โ
            โผ
โโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโ
โ AnketaInterviewer โ  โ ContractGenerator โ  โ ReportBuilder    โ
โ                   โ  โ                   โ  โ                  โ
โ reviewer.review() โ  โ reviewer.review() โ  โ reviewer.review()โ
โโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโ
API ะผะพะดัะปั:


from document_reviewer import DocumentReviewer

reviewer = DocumentReviewer()

# ะัะพััะพะน ะฒัะทะพะฒ
result = reviewer.review(
    content="# ะะพั ะฐะฝะบะตัะฐ\n...",
    title="ะัะพะฒะตัะบะฐ ะฐะฝะบะตัั"
)

if result.changed:
    print("ะะพะบัะผะตะฝั ะธะทะผะตะฝัะฝ")
    new_content = result.content
else:
    print("ะะพะบัะผะตะฝั ะฟะพะดัะฒะตัะถะดัะฝ ะฑะตะท ะธะทะผะตะฝะตะฝะธะน")
ะะพะดัะปั ะฝะต ะทะฝะฐะตั ะฝะธัะตะณะพ ะพ:

ะะฝะบะตัะฐั, ะธะฝัะตัะฒัั, ะฑะธะทะฝะตั-ะปะพะณะธะบะต
ะะฐะบ ะฟะฐััะธัั ัะพะดะตัะถะธะผะพะต
ะัะดะฐ ัะพััะฐะฝััั ัะตะทัะปััะฐั
ะะฝ ัะพะปัะบะพ: ะพัะบััะฒะฐะตั ัะตะดะฐะบัะพั โ ะถะดัั โ ะฒะพะทะฒัะฐัะฐะตั ัะตะทัะปััะฐั.

ะขะฐะบะพะน ะฟะพะดัะพะด ััััะฐะธะฒะฐะตั? ะะปะธ ัะพัะธัะต ะดะพะฑะฐะฒะธัั ััะพ-ัะพ ะฒ API ะผะพะดัะปั?

ะะพะดัะพะด ัะพัะพัะธะน. ะัะพะดัะผะฐะน, ะผะพะถะตั ะฑััั, ัั ะตัะต ะบะฐะบะธะต-ะฝะธะฑัะดั ะธะฝัะตัะตัะฝัะต ะธะดะตะธ ะฒ ะฝะตะณะพ ะฟะพะดะบะธะฝะตัั.
ะะฐะนัะต ะฟะพะดัะผะฐั, ััะพ ะตัั ะผะพะถะฝะพ ะดะพะฑะฐะฒะธัั ะฒ ััะพั ะผะพะดัะปั...

ะกะตะบัะธั 3: ะะฐััะธัะตะฝะฝัะต ะฒะพะทะผะพะถะฝะพััะธ DocumentReviewer
ะะดะตะธ ะดะปั ะผะพะดัะปั:

1. ะะฝััััะบัะธะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั
ะะพะฑะฐะฒะปัะตะผ ะฑะปะพะบ-ะฟะพะดัะบะฐะทะบั ะฒ ะฝะฐัะฐะปะพ ะดะพะบัะผะตะฝัะฐ:


<!-- 
  ะะะกะขะะฃะะฆะะฏ: ะัะพะฒะตัััะต ะดะฐะฝะฝัะต ะฝะธะถะต.
  - ะััะตะดะฐะบัะธััะนัะต, ััะพ ะฝัะถะฝะพ ะธะทะผะตะฝะธัั
  - ะกะพััะฐะฝะธัะต ะธ ะทะฐะบัะพะนัะต ัะตะดะฐะบัะพั
  - ะัะปะธ ะฒัั ะฒะตัะฝะพ โ ะฟัะพััะพ ะทะฐะบัะพะนัะต ะฑะตะท ะธะทะผะตะฝะตะฝะธะน
-->

# ะะฝะบะตัะฐ: Vitalbox
...
ะญัะพั ะฑะปะพะบ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะดะฐะปัะตััั ะฟัะธ ะฟะฐััะธะฝะณะต.

2. ะะฐัะธััะฝะฝัะต ัะตะบัะธะธ (read-only)
ะะตะบะพัะพััะต ะฟะพะปั ะฝะตะปัะทั ัะตะดะฐะบัะธัะพะฒะฐัั (ะฝะฐะฟัะธะผะตั, ะผะตัะฐะดะฐะฝะฝัะต):


## ะะตัะฐะดะฐะฝะฝัะต (ะฝะต ัะตะดะฐะบัะธััะนัะต)
<!-- READONLY -->
- ะกะพะทะดะฐะฝะพ: 2026-02-03
- ID: abc123
<!-- /READONLY -->
3. ะััะพัะธั ะฒะตััะธะน

result = reviewer.review(content, enable_history=True)

# ะัะปะธ ะฝัะถะฝะพ ะพัะบะฐัะธัั
reviewer.get_history()  # ["v1", "v2", "v3"]
reviewer.restore("v1")
4. ะะฐะปะธะดะฐัะธั ะฟะตัะตะด ัะพััะฐะฝะตะฝะธะตะผ

def validate_anketa(content: str) -> tuple[bool, str]:
    if "company_name" not in content:
        return False, "ะะฐะทะฒะฐะฝะธะต ะบะพะผะฟะฐะฝะธะธ ะพะฑัะทะฐัะตะปัะฝะพ"
    return True, ""

result = reviewer.review(
    content,
    validator=validate_anketa  # ะัะปะธ ะฝะตะฒะฐะปะธะดะฝะพ โ ัะตะดะฐะบัะพั ะพัะบััะฒะฐะตััั ัะฝะพะฒะฐ
)
5. ะขะฐะนะผะฐัั ั ะฐะฒัะพัะพััะฐะฝะตะฝะธะตะผ

result = reviewer.review(
    content,
    timeout_minutes=30,  # ะงะตัะตะท 30 ะผะธะฝ โ ะฐะฒัะพัะพััะฐะฝะตะฝะธะต ัะตะบััะตะณะพ ัะพััะพัะฝะธั
)
ะะฐะบะธะต ะธะท ััะธั ะธะดะตะน ะบะฐะถัััั ะฟะพะปะตะทะฝัะผะธ? ะะปะธ ะฒัะต ะพััะฐะฒะปัะตะผ ะฝะฐ ะฑัะดััะตะต, ะฐ ัะตะนัะฐั ะดะตะปะฐะตะผ ะฑะฐะทะพะฒัั ะฒะตััะธั?

ะะพะฑะฐะฒะปัะตะผ ะฒัะต ะฒ ะฑะฐะทะพะฒัั ะฒะตััะธั. ะะตะปะธะทั ััะพะณะพ ะฐะณะตะฝัะฐ ะฒ ะพัะดะตะปัะฝะพะน ะฟะฐะฟะบะต.
ะัะปะธัะฝะพ! ะขะพะณะดะฐ ัะธะฝะฐะปะธะทะธััะตะผ ะดะธะทะฐะนะฝ ัะพ ะฒัะตะผะธ ัะธัะฐะผะธ.

ะกะตะบัะธั 4: ะกัััะบัััะฐ ะผะพะดัะปั ะธ ัะฐะนะปั
ะะฐัะฟะพะปะพะถะตะฝะธะต: src/document_reviewer/


src/document_reviewer/
โโโ __init__.py              # ะญะบัะฟะพัั ะฟัะฑะปะธัะฝะพะณะพ API
โโโ reviewer.py              # ะัะฝะพะฒะฝะพะน ะบะปะฐัั DocumentReviewer
โโโ editor.py                # ะะฐะฑะพัะฐ ั ะฒะฝะตัะฝะธะผ ัะตะดะฐะบัะพัะพะผ
โโโ parser.py                # ะะฐััะธะฝะณ Markdown (ะธะฝััััะบัะธะธ, readonly)
โโโ history.py               # ะััะพัะธั ะฒะตััะธะน
โโโ validators.py            # ะะฐะทะพะฒัะต ะฒะฐะปะธะดะฐัะพัั
โโโ models.py                # ReviewResult, ReviewConfig ะธ ะดั.
ะัะฑะปะธัะฝัะน API (__init__.py):


from .reviewer import DocumentReviewer
from .models import ReviewResult, ReviewConfig
from .validators import required_fields, no_empty_sections

__all__ = [
    "DocumentReviewer",
    "ReviewResult", 
    "ReviewConfig",
    "required_fields",
    "no_empty_sections",
]
ะัะฝะพะฒะฝัะต ะบะปะฐััั:


# models.py
@dataclass
class ReviewResult:
    changed: bool
    content: str
    original_content: str
    version: int
    
@dataclass  
class ReviewConfig:
    editor: str = None          # $EDITOR ะธะปะธ auto
    timeout_minutes: int = 30
    enable_history: bool = True
    instructions: str = None
    readonly_sections: List[str] = None
    validator: Callable = None
ะกัััะบัััะฐ ะฒัะณะปัะดะธั ะฟัะฐะฒะธะปัะฝะพ? ะะตัะตัะพะดะธะผ ะบ ะธะฝัะตะณัะฐัะธะธ ั AnketaInterviewer?

Docks ะธ Redmi ัะพะถะต ัะดะตะปะฐะน ะดะปั ััะพะณะพ ะฐะณะตะฝัะฐ ัะฒะพะธ.
ะะพะฝัะป! ะะพะฑะฐะฒะปัะตะผ ะดะพะบัะผะตะฝัะฐัะธั.

ะกะตะบัะธั 5: ะะฝัะตะณัะฐัะธั ะธ ะดะพะบัะผะตะฝัะฐัะธั
ะะฝัะตะณัะฐัะธั ั ConsultantInterviewer:


# ะ src/consultant/interviewer.py

from src.document_reviewer import DocumentReviewer, ReviewConfig

class ConsultantInterviewer:
    def __init__(self, ...):
        self.reviewer = DocumentReviewer()
    
    async def finalize_anketa(self, anketa: FinalAnketa) -> FinalAnketa:
        """ะะพะบะฐะทะฐัั ะฐะฝะบะตัั ะบะปะธะตะฝัั ะดะปั ะฟัะพะฒะตัะบะธ."""
        
        # ะะตะฝะตัะธััะตะผ Markdown
        markdown = self._anketa_to_markdown(anketa)
        
        # ะัะบััะฒะฐะตะผ ะฝะฐ ะฟัะพะฒะตัะบั
        result = self.reviewer.review(
            content=markdown,
            title=f"ะะฝะบะตัะฐ: {anketa.company_name}",
            config=ReviewConfig(
                instructions="ะัะพะฒะตัััะต ะดะฐะฝะฝัะต. ะััะตะดะฐะบัะธััะนัะต ะฟัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ.",
                readonly_sections=["ะะตัะฐะดะฐะฝะฝัะต"],
                validator=self._validate_anketa
            )
        )
        
        if result.changed:
            # ะะฐััะธะผ ะธะทะผะตะฝัะฝะฝัะน Markdown ะพะฑัะฐัะฝะพ ะฒ FinalAnketa
            return self._markdown_to_anketa(result.content, anketa)
        
        return anketa
ะะพะบัะผะตะฝัะฐัะธั โ ััััะบัััะฐ:


src/document_reviewer/
โโโ ...
โโโ docs/
    โโโ README.md           # ะะฑะทะพั ะธ ะฑัััััะน ััะฐัั
    โโโ API.md              # ะะพะปะฝะพะต ะพะฟะธัะฐะฝะธะต API
    โโโ INTEGRATION.md      # ะัะธะผะตัั ะธะฝัะตะณัะฐัะธะธ
    โโโ EXAMPLES.md         # ะะพัะพะฒัะต ะฟัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
README.md (ัะตัะฝะพะฒะธะบ):


# DocumentReviewer

ะฃะฝะธะฒะตััะฐะปัะฝัะน ะผะพะดัะปั ะดะปั ะธะฝัะตัะฐะบัะธะฒะฝะพะณะพ ะฟัะพัะผะพััะฐ ะธ ัะตะดะฐะบัะธัะพะฒะฐะฝะธั 
ะดะพะบัะผะตะฝัะพะฒ ัะตัะตะท ะฒะฝะตัะฝะธะน ัะตะดะฐะบัะพั.

## ะัััััะน ััะฐัั

pip install document-reviewer  # ะธะปะธ ะธะท src/

from document_reviewer import DocumentReviewer

reviewer = DocumentReviewer()
result = reviewer.review("# ะะพะน ะดะพะบัะผะตะฝั\n\nะกะพะดะตัะถะธะผะพะต...")

if result.changed:
    print("ะะพะบัะผะตะฝั ะธะทะผะตะฝัะฝ")
    print(result.content)

## ะะพะทะผะพะถะฝะพััะธ

- ๐ ะัะบัััะธะต ะฒ ะปัะฑะพะผ ัะตะดะฐะบัะพัะต ($EDITOR, nano, vim, code)
- ๐ ะะฐัะธััะฝะฝัะต ัะตะบัะธะธ (readonly)
- ๐ ะััะพัะธั ะฒะตััะธะน
- โ ะะฐะปะธะดะฐัะธั ะฟะตัะตะด ัะพััะฐะฝะตะฝะธะตะผ
- โฑ๏ธ ะขะฐะนะผะฐัั ั ะฐะฒัะพัะพััะฐะฝะตะฝะธะตะผ
- ๐ ะะฝััััะบัะธะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั

## ะะฝัะตะณัะฐัะธั

ะะพะดัะปั ะฝะต ะทะฐะฒะธัะธั ะพั ะฑะธะทะฝะตั-ะปะพะณะธะบะธ ะธ ะผะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัััั
ะฒ ะปัะฑะพะผ ะฟัะพะตะบัะต, ะณะดะต ะฝัะถะฝะฐ ะฟัะพะฒะตัะบะฐ ะดะพะบัะผะตะฝัะพะฒ ะฟะพะปัะทะพะฒะฐัะตะปะตะผ.
ะะธะทะฐะนะฝ ะณะพัะพะฒ! ะกะพััะฐะฝัะตะผ ะฒ ัะฐะนะป ะฟะปะฐะฝะฐ ะธ ะฟะตัะตัะพะดะธะผ ะบ ัะตะฐะปะธะทะฐัะธะธ?
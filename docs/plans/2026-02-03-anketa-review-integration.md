# –î–∏–∑–∞–π–Ω: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DocumentReviewer —Å ConsultantInterviewer

**–î–∞—Ç–∞:** 2026-02-03
**–°—Ç–∞—Ç—É—Å:** Approved

---

## –¶–µ–ª—å

–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–≤—å—é –∞–Ω–∫–µ—Ç—ã –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞–Ω–∫–µ—Ç—É –≤–æ –≤–Ω–µ—à–Ω–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.

---

## –†–µ—à–µ–Ω–∏—è

| –ê—Å–ø–µ–∫—Ç | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|
| –¢–∏–ø –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–≤—å—é –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–≤—å—é |
| –¢—Ä–∏–≥–≥–µ—Ä | –° –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º (–ø—Ä–µ–≤—å—é + –≤—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏—è) |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ –≤ FinalAnketa |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | –°—Ç—Ä–æ–≥–∞—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è) + retry –¥–æ 3 —Ä–∞–∑ |
| –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ | –°–ø—Ä–∞—à–∏–≤–∞–µ–º: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª –∏–ª–∏ –Ω–µ—Ç |

---

## Flow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 –§–ò–ù–ê–õ–ò–ó–ê–¶–ò–Ø –ê–ù–ö–ï–¢–´                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  1. –ò–Ω—Ç–µ—Ä–≤—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è FinalAnketa              ‚îÇ
‚îÇ     ‚Üì                                                       ‚îÇ
‚îÇ  2. –ü–†–ï–í–¨–Æ –≤ CLI:                                           ‚îÇ
‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ     ‚îÇ üìã –ö–æ–º–ø–∞–Ω–∏—è: Vitalbox                           ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ    –û—Ç—Ä–∞—Å–ª—å: –ò–Ω–¥—É—Å—Ç—Ä–∏—è –∫—Ä–∞—Å–æ—Ç—ã                   ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ    –§—É–Ω–∫—Ü–∏–π: 3 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π: 4                   ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ    –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å: 87%                           ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ                                                 ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ [O] –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä                            ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ [S] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å                          ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ [C] –û—Ç–º–µ–Ω–∞                                      ‚îÇ     ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ     ‚Üì                                                       ‚îÇ
‚îÇ  3. –ï—Å–ª–∏ [O] ‚Üí DocumentReviewer                             ‚îÇ
‚îÇ     ‚Üì                                                       ‚îÇ
‚îÇ  4. –í–ê–õ–ò–î–ê–¶–ò–Ø:                                              ‚îÇ
‚îÇ     ‚îú‚îÄ OK ‚Üí –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å                                      ‚îÇ
‚îÇ     ‚îî‚îÄ –û—à–∏–±–∫–∏ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö ‚Üí RETRY (–¥–æ 3 —Ä–∞–∑)  ‚îÇ
‚îÇ     ‚Üì                                                       ‚îÇ
‚îÇ  5. DIFF –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:                              ‚îÇ
‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ     ‚îÇ üìù –ò–∑–º–µ–Ω–µ–Ω–æ: +2 / -1 / ~3 —Å—Ç—Ä–æ–∫                 ‚îÇ     ‚îÇ
‚îÇ     ‚îÇ    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è? [Y/n]                   ‚îÇ     ‚îÇ
‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ     ‚Üì                                                       ‚îÇ
‚îÇ  6. –ü–∞—Ä—Å–∏–Ω–≥ Markdown ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ FinalAnketa               ‚îÇ
‚îÇ     ‚Üì                                                       ‚îÇ
‚îÇ  7. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ .md + .json                                  ‚îÇ
‚îÇ                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```
src/anketa/
‚îú‚îÄ‚îÄ review_service.py    # AnketaReviewService ‚Äî –≥–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å
‚îî‚îÄ‚îÄ markdown_parser.py   # AnketaMarkdownParser ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ MD ‚Üí –º–æ–¥–µ–ª—å
```

### AnketaReviewService

```python
class AnketaReviewService:
    """–°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–µ–≤—å—é –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–Ω–∫–µ—Ç."""

    def __init__(self, config: ReviewConfig = None)

    def finalize(self, anketa: FinalAnketa) -> FinalAnketa | None:
        """–ü–æ–ª–Ω—ã–π flow —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏."""

    def show_preview(self, anketa: FinalAnketa) -> None:
        """CLI –ø—Ä–µ–≤—å—é –∞–Ω–∫–µ—Ç—ã."""

    def show_diff(self, original: str, edited: str) -> dict:
        """–ü–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è."""

    def prompt_action(self) -> Literal["open", "save", "cancel"]:
        """–°–ø—Ä–æ—Å–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
```

### AnketaMarkdownParser

```python
class AnketaMarkdownParser:
    """–ü–∞—Ä—Å–µ—Ä Markdown ‚Üí FinalAnketa."""

    def parse(self, content: str, base: FinalAnketa) -> FinalAnketa:
        """–ü–∞—Ä—Å–∏—Ç MD –∏ –º–µ—Ä–∂–∏—Ç —Å –±–∞–∑–æ–≤–æ–π –∞–Ω–∫–µ—Ç–æ–π."""
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ ConsultantInterviewer:

```python
from src.anketa.review_service import AnketaReviewService

class ConsultantInterviewer:

    def __init__(self, ...):
        self.review_service = AnketaReviewService()

    async def run_consultation(self):
        # ... –∏–Ω—Ç–µ—Ä–≤—å—é ...
        anketa = self.extractor.extract(conversation)

        # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
        final_anketa = self.review_service.finalize(anketa)

        if final_anketa:
            self.save_anketa(final_anketa)
```

---

## –í–∞–ª–∏–¥–∞—Ü–∏—è (—Å—Ç—Ä–æ–≥–∞—è)

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
- `company_name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- `industry` ‚Äî –æ—Ç—Ä–∞—Å–ª—å
- `agent_functions` ‚Äî –º–∏–Ω–∏–º—É–º 1 —Ñ—É–Ω–∫—Ü–∏—è –∞–≥–µ–Ω—Ç–∞

–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö ‚Äî retry —Å –ø–æ–∫–∞–∑–æ–º –æ—à–∏–±–æ–∫ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `src/document_reviewer` ‚Äî –º–æ–¥—É–ª—å —Ä–µ–≤—å—é (—É–∂–µ —Å–æ–∑–¥–∞–Ω)
- `src/anketa/generator.py` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown
- `src/anketa/schema.py` ‚Äî FinalAnketa –º–æ–¥–µ–ª—å

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2026-02-03*
